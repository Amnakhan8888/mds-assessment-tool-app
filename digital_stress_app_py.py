# -*- coding: utf-8 -*-
"""digital_stress_app.py.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1ML_syflsv3L8xobq0y8D0xDe7gWPx8h_
"""

import streamlit as st
import pandas as pd
from datetime import datetime

# ---------- Introduction ----------
st.title("Digital Stress Scale Web App")
st.write("""
**Developer:** Amna Khan â€“ Clinical Psychologist, Researcher, and Data Analyst

Welcome! This bilingual (Urdu + English) app will help you assess your digital stress level.
To proceed to the questionnaire, please complete the $2 payment using the details below.
""")

import streamlit as st

# Introduction Section
st.title("ğŸ“± Digital Stress Diagnostic Tool")
st.markdown("""
### Introduction

This tool is based on the **Multidimensional Digital Stressor Scale (MDSS)**.
It is designed **only** for individuals aged **18 to 30 years**.
It diagnoses the **level of digital stress** you may be experiencing due to usage of devices such as mobile phones, laptops, and social media.

âš ï¸ **Important Notes:**
- This tool specifically measures **digital stress**, not other types of stress.
- It does **not** assess professional or work-related stress caused by using devices for your job or study.
- Please answer all questions honestly based on your experience in the **past 7 days**.
- While it is a diagnostic tool for digital stress, it should be used for **awareness and guidance**, not as a substitute for professional medical or psychological evaluation.

Click **Next** to start the questionnaire.
""")

# Add a "Next" button to go to questions
if st.button("Next â¡ï¸"):
    st.session_state.page = "questions"


# ---------- Part 1: Sample Questions ----------
st.subheader("Sample Questions")

sample_items = [
    ("Most of my friends approve of me being constantly available online",
     "Ù…ÛŒØ±Û’ Ø²ÛŒØ§Ø¯Û ØªØ± Ø¯ÙˆØ³Øª Ù…ÛŒØ±Û’ Ù…Ø³Ù„Ø³Ù„ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø±ÛÙ†Û’ Ø³Û’ Ù…ØªÙÙ‚ ÛÛŒÚº"),
    ("I feel a social obligation to be constantly available online",
     "Ù…Ø³Ù„Ø³Ù„ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø±ÛÙ†Ø§ Ù…Ø¬Ú¾Û’ Ø§ÛŒÚ© Ø³Ù…Ø§Ø¬ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªØ§ ÛÛ’")
]

scale_labels = ["0 - Strongly Disagree", "1 - Disagree", "2 - Neutral", "3 - Agree", "4 - Strongly Agree"]

for idx, item in enumerate(sample_items, 1):
    st.markdown(f"**Q{idx}. {item[0]}**  \n_{item[1]}_")
    st.radio("", scale_labels, key=f"sample_{idx}")

# ---------- Part 2: Payment Section ----------
st.subheader("Unlock Full Assessment")

st.write("""
**How to Make Payment (EasyPaisa):**  
1. Send the payment via the EasyPaisa app or a nearby agent.  
2. Use this number to send the payment: **03068732970**  
3. After payment, you will receive a **confirmation code** via SMS.  
4. Enter that code in the field below to unlock the full assessment.
""")

# Payment code input
payment_code = st.text_input("Enter your EasyPaisa payment confirmation code:")

# Simple code verification (example: "1234" is valid)
valid_codes = ["1234", "5678", "91011"]  # Replace with your real codes

if payment_code:
    if payment_code in valid_codes:
        st.success("Payment verified! You can now access the full assessment.")
        # Show full assessment content here
    else:
        st.error("Invalid code. Please check your SMS and enter the correct code.")

# ---------- Part 3: Full Assessment (Locked) ----------
if payment_code == "PAID123":  # Replace with your actual payment code
    st.success("Payment verified! Full assessment unlocked.")

    digital_stress_items = [
        {"id": 1, "en_text": "Most of my friends approve of me being constantly available online", "ur_text": "Ù…ÛŒØ±Û’ Ø²ÛŒØ§Ø¯Û ØªØ± Ø¯ÙˆØ³Øª Ù…ÛŒØ±Û’ Ù…Ø³Ù„Ø³Ù„ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø±ÛÙ†Û’ Ø³Û’ Ù…ØªÙÙ‚ ÛÛŒÚº"},
        {"id": 2, "en_text": "I feel a social obligation to be constantly available online", "ur_text": "Ù…Ø³Ù„Ø³Ù„ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø±ÛÙ†Ø§ Ù…Ø¬Ú¾Û’ Ø§ÛŒÚ© Ø³Ù…Ø§Ø¬ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªØ§ ÛÛ’"},
        {"id": 3, "en_text": "I am nervous about how people will respond to my posts and photos", "ur_text": "Ù…ÛŒÚº Ù¾Ø±ÛŒØ´Ø§Ù† ÛÙˆØªØ§ ÛÙˆÚº Ú©Û Ù„ÙˆÚ¯ Ù…ÛŒØ±Û’ Ù¾ÙˆØ³Ù¹ Ø§ÙˆØ± ØªØµÙˆÛŒØ± Ú©Ø§ Ú©Ø³ Ø·Ø±Ø­ Ø³Û’ Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÚº Ú¯Û’ØŸ"},
        {"id": 4, "en_text": "I feel anxious about how others will respond when I share a new photo on social media", "ur_text": "Ù…ÛŒØ±ÛŒ Ø·Ø±Ù Ø³Û’ Ø³ÙˆØ´Ù„ Ù…ÛŒÚˆÛŒØ§ Ù¾Ø± Ú©ÙˆØ¦ÛŒ Ù†Ø¦ÛŒ ØªØµÙˆÛŒØ± Ø´ÛŒØ¦Ø± Ú©ÛŒ Ø¬Ø§ØªÛŒ ÛÛ’ ØªÙˆ Ù…Ø¬Ú¾Û’ Ø¨ÛŒÚ†ÛŒÙ†ÛŒ ÛÙˆØªÛŒ ÛÛ’ Ú©Û Ø¯ÙˆØ³Ø±Û’ Ú©ÛŒØ³Û’ Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÚº Ú¯Û’ØŸ"},
        {"id": 5, "en_text": "I feel nervous after I share a post or photo to see how others responded to it", "ur_text": "Ù…Ø¬Ú¾Û’ Ù¾ÙˆØ³Ù¹ ÛŒØ§ ØªØµÙˆÛŒØ± Ú©Ùˆ Ø´ÛŒØ¦Ø± Ú©Ø±Ù†Û’ Ú©Û’ Ø¨Ø¹Ø¯ Ú¯Ú¾Ø¨Ø±Ø§ÛÙ¹ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªÛŒ ÛÛ’ Ú©Û Ø¯ÙˆØ³Ø±ÙˆÚº Ù†Û’ Ø§Ø³ Ù¾Ø± Ú©ÛŒØ§ Ø±Ø¯Ø¹Ù…Ù„ Ø¯ÛŒØ§ ÛÙˆÚ¯Ø§ØŸ"},
        {"id": 6, "en_text": "I feel nervous about how others will respond when I post new updates on social media", "ur_text": "Ù…Ø¬Ú¾Û’ Ù¾Ø±ÛŒØ´Ø§Ù†ÛŒ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªÛŒ ÛÛ’ Ú©Û Ù„ÙˆÚ¯ Ù…ÛŒØ±Û’ ØªØ§Ø²Û ØªØ±ÛŒÙ† Ù¾ÙˆØ³Ù¹ Ù¾Ø± Ú©ÛŒØ³Û’ Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÚº Ú¯Û’ØŸ"},
        {"id": 7, "en_text": "I put a lot of effort into finding or creating a photo that others will approve of when I post it online", "ur_text": "Ù…Ø¬Ú¾Û’ Ø¢Ù† Ù„Ø§Ø¦Ù† Ù¾ÙˆØ³Ù¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªØµÙˆÛŒØ± ÚˆÚ¾ÙˆÙ†ÚˆÙ†Û’ Ø§ÙˆØ± Ø¨Ù†Ø§Ù†Û’ Ù…ÛŒÚº Ø¨ÛØª Ú©ÙˆØ´Ø´ Ú©Ø±Ù†ÛŒ Ù¾Ú‘ØªÛŒ ÛÛ’ ØªØ§Ú©Û Ø¯ÙˆØ³Ø±ÙˆÚº Ú©ÛŒ Ù…Ù†Ø¸ÙˆØ±ÛŒ Ù…Ù„ Ø³Ú©Û’"},
        {"id": 8, "en_text": "I put a lot of effort into composing messages and posts I share online", "ur_text": "Ù…Ø¬Ú¾Û’ Ø§ÙÙ† Ù¾ÛŒØºØ§Ù…Ø§Øª Ø§ÙˆØ± Ù¾ÙˆØ³Ù¹ Ú©Ùˆ ØªÛŒØ§Ø± Ú©Ø±Ù†Û’ Ù…ÛŒÚº Ø¨ÛØª Ù…Ø­Ù†Øª Ø¯Ø±Ú©Ø§Ø± ÛÙˆØªÛŒ ÛÛ’ Ø¬Ùˆ Ù…ÛŒÚº Ø¢Ù† Ù„Ø§Ø¦Ù† Ø´ÛŒØ¦Ø± Ú©Ø±ØªØ§ ÛÙˆÚºÛ”"},
        {"id": 9, "en_text": "I fear my friends are having more rewarding experiences than me", "ur_text": "Ù…Ø¬Ú¾Û’ ÚˆØ± ÛÛ’ Ú©Û Ù…ÛŒØ±Û’ Ø¯ÙˆØ³ØªÙˆÚº Ú©Û’ Ù…Ø¬Ú¾ Ø³Û’ Ø²ÛŒØ§Ø¯Û Ø®ÙˆØ´Ú¯ÙˆØ§Ø± ØªØ¬Ø±Ø¨Ø§Øª ÛÛŒÚº"},
        {"id": 10, "en_text": "I fear that others have more rewarding experiences than me", "ur_text": "Ù…Ø¬Ú¾Û’ Ù„Ú¯ØªØ§ ÛÛ’ Ú©Û Ø¯ÙˆØ³Ø±ÙˆÚº Ú©Û’ Ù…Ø¬Ú¾ Ø³Û’ Ø²ÛŒØ§Ø¯Û ØªØ³Ú©ÛŒÙ† Ø¢ÙˆØ± ØªØ¬Ø±Ø¨Ø§Øª ÛÛŒÚº"},
        {"id": 11, "en_text": "I get worried when I find out my friends are having fun without me", "ur_text": "Ù…Ø¬Ú¾Û’ Ù¾Ø±ÛŒØ´Ø§Ù†ÛŒ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ø¨ Ù…Ø¬Ú¾Û’ Ù…Ø¹Ù„ÙˆÙ… ÛÙˆØªØ§ ÛÛ’ Ú©Û Ù…ÛŒØ±Û’ Ø¯ÙˆØ³Øª Ù…ÛŒØ±Û’ Ø¨ØºÛŒØ± Ù…Ø²Û Ú©Ø± Ø±ÛÛ’ ÛÛŒÚº"},
        {"id": 12, "en_text": "I get anxious when I donâ€™t know what my friends are up to", "ur_text": "Ù…Ø¬Ú¾Û’ Ù¾Ø±ÛŒØ´Ø§Ù†ÛŒ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ø¨ Ù…Ø¬Ú¾Û’ Ù…Ø¹Ù„ÙˆÙ… Ù†ÛÛŒÚº ÛÙˆØªØ§ Ú©Û Ù…ÛŒØ±Û’ Ø¯ÙˆØ³Øª Ú©ÛŒØ§ Ú©Ø± Ø±ÛÛ’ ÛÛŒÚº"},
        {"id": 13, "en_text": "I have to check too many notifications", "ur_text": "Ù…Ø¬Ú¾Û’ Ø¨ÛØª Ø²ÛŒØ§Ø¯Û Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒÚ©Ú¾Ù†ÛŒ Ù¾Ú‘ØªÛŒ ÛÛŒÚº"},
        {"id": 14, "en_text": "I feel overwhelmed with the flow of messages/notifications on my phone", "ur_text": "Ù…Ø¬Ú¾Û’ Ø§Ù¾Ù†Û’ ÙÙˆÙ† Ù¾Ø± Ù¾ÛŒØºØ§Ù…Ø§Øª Ø§ÙˆØ± Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Û’ Ù…Ø³Ù„Ø³Ù„ Ø¨ÛØ§Ø¤ Ø³Û’ Ø¨Û’ Ø§Ù†ØªÛØ§ Ø¯Ø¨Ø§Ø¤ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªØ§ ÛÛ’"},
        {"id": 15, "en_text": "It feels like there is always a reminderâ€”like a flashing light or buzzâ€”that there is some other message that I need to attend to", "ur_text": "Ú†Ù…Ú©ØªÛŒ Ø±ÙˆØ´Ù†ÛŒ ÛŒØ§ Ø¨Ú¾Ù†Ø¨Ù†Ø§ÛÙ¹ Ø³Û’ Ø§ÛŒØ³Ø§ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªØ§ ÛÛ’ Ú©Û Ú©ÙˆØ¦ÛŒ Ø¯ÙˆØ³Ø±Ø§ Ù¾ÛŒØºØ§Ù… ÛÛ’ Ø¬Ùˆ Ù…Ø¬Ú¾Û’ Ø¯ÛŒÚ©Ú¾Ù†Ø§ Ø¶Ø±ÙˆØ±ÛŒ ÛÛ’"},
        {"id": 16, "en_text": "I feel stress because I must sift through a lot of unimportant notifications to get to the important ones", "ur_text": "Ù…ÛŒÚº ØªÙ†Ø§Ø¤ Ù…Ø­Ø³ÙˆØ³ Ú©Ø±ØªØ§ ÛÙˆÚº Ú©ÛŒÙˆÙ†Ú©Û Ù…Ø¬Ú¾Û’ Ø§ÛÙ… Ø§Ø·Ù„Ø§Ø¹ ØªÚ© Ù¾ÛÙ†Ú†Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø¨ÛØª Ø³Ø§Ø±ÛŒ ØºÛŒØ± Ø§ÛÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ùˆ Ø¬Ø§Ù†Ú†Ù†Ø§ Ù¾Ú‘ØªØ§ ÛÛ’Û”"},
        {"id": 17, "en_text": "On top of the other things I must do, keeping up with notifications is a chore", "ur_text": "Ø¯ÛŒÚ¯Ø± Ø§ÛÙ… Ú©Ø§Ù…ÙˆÚº Ú©Û’ Ø³Ø§ØªÚ¾ Ø³Ø§ØªÚ¾ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒÚ©Ú¾Ù†Ø§ Ø¨Ú¾ÛŒ Ø§ÛŒÚ© Ú©Ø§Ù… ÛÛ’"},
        {"id": 18, "en_text": "I spend too much time responding to notifications/messages", "ur_text": "Ù…Ø¬Ú¾Û’ Ù¾ÛŒØºØ§Ù…Ø§Øª Ú©Ø§ Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÙ†Û’ Ù…ÛŒÚº Ø¨ÛØª Ø²ÛŒØ§Ø¯Û ÙˆÙ‚Øª Ù„Ú¯ØªØ§ ÛÛ’"},
        {"id": 19, "en_text": "I must have my phone with me to know what is going on", "ur_text": "ÛŒÛ Ø¬Ø§Ù†Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©Û Ú©ÛŒØ§ Ú†Ù„ Ø±ÛØ§ ÛÛ’ØŒ Ù…ÛŒØ±Û’ Ù¾Ø§Ø³ Ù…ÛŒØ±Ø§ ÙÙˆÙ† ÛÙˆÙ†Ø§ Ø¶Ø±ÙˆØ±ÛŒ ÛÛ’"},
        {"id": 20, "en_text": "I feel lost or 'naked' without my phone", "ur_text": "Ù…Ø¬Ú¾Û’ ÙÙˆÙ† Ú©Û’ Ø¨ØºÛŒØ± Ú©Ú¾ÙˆÛŒØ§ ÛÙˆØ§ ÛŒØ§ Ø®Ø§Ù„ÛŒ Ù…Ø­Ø³ÙˆØ³ ÛÙˆØªØ§ ÛÛ’Û”"},
        {"id": 21, "en_text": "I am constantly checking my phone for messages/notifications", "ur_text": "Ù…ÛŒÚº Ù…Ø³Ù„Ø³Ù„ Ø§Ù¾Ù†Û’ ÙÙˆÙ† Ù¾Ø± Ù¾ÛŒØºØ§Ù…Ø§Øª ÛŒØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯ÛŒÚ©Ú¾ØªØ§ ÛÙˆÚº"},
        {"id": 22, "en_text": "I feel socially unavailable when I do not have my phone", "ur_text": "Ø¬Ø¨ Ù…ÛŒØ±Û’ Ù¾Ø§Ø³ Ù…ÛŒØ±Ø§ ÙÙˆÙ† Ù†ÛÛŒÚº ÛÙˆØªØ§ ØªÙˆ Ù…ÛŒÚº Ø³Ù…Ø§Ø¬ÛŒ Ø·ÙˆØ± Ù¾Ø± Ø®ÙˆØ¯ Ú©Ùˆ ØºÛŒØ± Ø¯Ø³ØªÛŒØ§Ø¨ Ù…Ø­Ø³ÙˆØ³ Ú©Ø±ØªØ§ ÛÙˆÚºÛ”"}
    ]

    responses = []
    for item in digital_stress_items:
        st.markdown(f"**Q{item['id']}. {item['en_text']}**  \n_{item['ur_text']}_")
        score = st.radio("", scale_labels, key=f"q{item['id']}")
        responses.append(int(score.split(" - ")[0]))

    if st.button("Submit Full Assessment"):
        total_score = sum(responses)
        st.write(f"Your total digital stress score is: {total_score}")

        # Categorize stress level
        if total_score <= 21:
            st.write("Low digital stress")
        elif total_score <= 44:
            st.write("Moderate digital stress")
        elif total_score <= 66:
            st.write("Elevated digital stress")
        else:
            st.write("High digital stress")
else:
    st.info("Full assessment is locked. Complete payment to get the code and unlock it.")
     